{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.css';\n\nfunction Modal (props) {\n  const { displayModal, closeModalFunction, closeIcon, headerContent, mainContent, footerContent } = props;\n  const selectablesQuery = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]),[role=\"button\"], [tabindex=\"0\"]';\n\n  useEffect(function () {\n    document.addEventListener('keydown', function (e) {\n      const modalContainer = document.querySelector('.modal-container');\n      if (modalContainer == null) {\n        return;\n      }\n      const focusableEls = Array.prototype.slice.call(modalContainer.querySelectorAll(selectablesQuery));\n      switch (e.keyCode) {\n        // Tab\n        case 9:\n          // If there's only one element in the modal that's focusable, disable tabbing\n          if (modalContainer.querySelectorAll(selectablesQuery).length === 1) {\n            e.preventDefault();\n            break;\n          }\n          // Tabbing backwards\n          if (e.shiftKey) {\n            if (document.activeElement === focusableEls[0]) {\n              e.preventDefault();\n              focusableEls[0].focus();\n            }\n          } else {\n            // Wrap around to the beginning if we've hit the last focusable element in the modal\n            if (document.activeElement == focusableEls[focusableEls.length - 1]) {\n              e.preventDefault();\n              focusableEls[0].focus();\n            }\n          }\n          break;\n        default:\n          break;\n      }\n    });\n  }, []);\n\n  // Focus on a modal when it's displayed\n  useEffect(() => {\n    if (displayModal) {\n      const modalContainer = document.querySelector('#modal-container');\n      const focusableEls = Array.prototype.slice.call(modalContainer.querySelectorAll(selectablesQuery));\n      focusableEls[0].focus();\n    }\n  });\n\n  if (displayModal) {\n    return (\n      <React.Fragment>\n        <div id='modal-container' className={styles['modal-container']} role='dialog' aria-labelledby='header' aria-describedby='modal-content'>\n          <header>\n            <h2 id='header'>{headerContent}</h2>\n            {closeIcon ? <img className={styles['close-modal-button']} src={closeIcon} onClick={closeModalFunction} role='button' tabIndex='1' alt='close icon' /> : null}\n          </header>\n          <main id='modal-content' className={styles['modal-content']}>{mainContent}</main>\n          <footer className={styles['modal-footer']}>{footerContent}</footer>\n        </div>\n        <div className={styles['modal-overlay']}></div>\n      </React.Fragment>\n    );\n  }\n\n  return null;\n}\n\nModal.propTypes = {\n  displayModal: PropTypes.bool.isRequired,\n  closeModalFunction: PropTypes.func.isRequired,\n  closeIcon: PropTypes.func,\n  headerContent: PropTypes.node,\n  mainContent: PropTypes.node,\n  footerContent: PropTypes.node\n};\n\nexport default Modal;\n"],"names":["Modal","props","displayModal","closeModalFunction","closeIcon","headerContent","mainContent","footerContent","selectablesQuery","useEffect","document","addEventListener","e","modalContainer","querySelector","focusableEls","Array","prototype","slice","call","querySelectorAll","keyCode","length","preventDefault","shiftKey","activeElement","focus","React","styles","propTypes","PropTypes","bool","isRequired","func","node"],"mappings":"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"}